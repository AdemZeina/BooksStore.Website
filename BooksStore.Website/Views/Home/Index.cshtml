@model HomeViewModel
@{
    ViewData["Title"] = "Home Page";
    Layout = "~/Views/Shared/_Layout.cshtml";

}
<style>
    .text {
        display: inline-block
    }

    img {
        max-height: 100%;
        height: 190px;
    }

    .Like {
        background-color: #e8307ccc !important;
        color: white !important;
        font-size: 10px !important;
        text-decoration: none;
        padding: 4px 6px;
        background-color: transparent;
        border-radius: 10px;
        display: inline-block;
        cursor: pointer;
        font-family: Arial;
    }

    .title-tag {
        font-size: xx-large !important;
    }

    .no-like {
        /*box-shadow: 0px 0px 0px 2px #ffc2c2;*/
        background-color: transparent;
        border-radius: 10px;
        /*border: 1px solid #ffffff;*/
        display: inline-block;
        cursor: pointer;
        color: #ff0066;
        border-color: #dc3545;
        font-family: Arial;
        font-size: small !important;
        text-decoration: none;
        padding: 4px 6px;
        /* padding: 12px 37px;
        text-decoration: none;
        text-shadow: 0px 1px 0px #ffffff;*/
    }

        .no-like:hover {
            background-color: transparent;
        }

        .no-like:active {
            position: relative;
            top: 1px;
        }
</style>
<div class="container">
    <div class="row" style="padding:20px;">
        <div class="col-md-4" style="background-color:aliceblue">
            <label class="title-tag">Technology</label>
            <div class="row">
                @if (!Model.TechnologyBooks.Any())
                {
                    <span style="margin-left:10px;padding:10px">There are no books</span>
                }
                @foreach (var item in Model.TechnologyBooks)
                {

                    <div class="col-md-6" style="padding:10px">
                        <div class="card shadow h-100">
                            <img src="~/Upload/Images/@item.ImageUrl" class="card-img-top" alt="...">
                            <div class="card-body text-center">
                                <h5 class="card-title text-left text">@item.Title</h5>
                                <p class="card-text  text-left text">@item.Author</p>
                                @if (User.Identity.IsAuthenticated)
                                {
                                    <a onClick="Like(@item.Id)" id="@item.Id" class="@(item.Liked? "Like":"no-like")" style="background-color: #ffe2eecc">
                                        @(item.Liked ? "Added to favourite": "Add to favourite")
                                    </a>
                                }
                            </div>

                        </div>
                    </div>
                }
            </div>
        </div>
        <div class="col-md-4" style="background-color:white">
            <label class="title-tag">Programming</label>
            <div class="row">
                @if (!Model.ProgrammingBooks.Any())
                {
                    <span style="margin-left:10px;padding:10px">There are no books</span>
                }
                @foreach (var item in Model.ProgrammingBooks)
                {

                    <div class="col-md-6" style="padding:10px">
                        <div class="card shadow h-100">
                            <img src="~/Upload/Images/@item.ImageUrl" class="card-img-top" alt="...">
                            <div class="card-body text-center">
                                <h5 class="card-title text-left text">@item.Title</h5>
                                <p class="card-text  text-left text">@item.Author</p>
                                @if (User.Identity.IsAuthenticated)
                                {

                                    <a onClick="Like(@item.Id)" id="@item.Id" class="@(item.Liked? "Like":"no-like")" style="background-color: #ffe2eecc">
                                        @(item.Liked ? "Added to favourite": "Add to favourite")
                                    </a>
                                }

                            </div>

                        </div>
                    </div>
                }
            </div>
        </div>
        <div class="col-md-4" style="background-color: lightcyan">
            <label class="title-tag">Science</label>
            <div class="row">
                @if (!Model.ScienceBooks.Any())
                {
                    <span style="margin-left:10px;padding:10px">There are no books</span>
                }
                @foreach (var item in Model.ScienceBooks)
                {
                    <div class="col-md-6" style="padding:10px">
                        <div class="card shadow h-100">
                            <img src="~/Upload/Images/@item.ImageUrl" class="card-img-top img-fluid rounded" alt="...">
                            <div class="card-body text-center">
                                <h5 class="card-title  text-left text">@item.Title</h5>
                                <p class="card-text  text-left text">@item.Author</p>
                                @if (User.Identity.IsAuthenticated)
                                {
                                    <a onClick="Like(@item.Id)" id="@item.Id" class=" @(item.Liked? "Like":"no-like")" style="background-color: #ffe2eecc">
                                        @(item.Liked ? "Added to favourite": "Add to favourite")
                                    </a>
                                }

                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
    <div class="row" style="padding:20px;">
        <div class="col-md-5" style="background-color: lightcyan">
            <label class="title-tag">Travel</label>
            <div class="row">
                @if (!Model.TravelBooks.Any())
                {
                    <span style="margin-left:10px;padding:10px">There are no books</span>
                }
                @foreach (var item in Model.TravelBooks)
                {
                    <div class="col-md-4" style="padding:10px">
                        <div class="card shadow h-100">
                            <img src="~/Upload/Images/@item.ImageUrl" class="card-img-top img-fluid rounded" alt="...">
                            <div class="card-body text-center">
                                <h5 class="card-title  text-left text">@item.Title</h5>
                                <p class="card-text  text-left text">@item.Author</p>
                                @if (User.Identity.IsAuthenticated)
                                {
                                    <a onClick="Like(@item.Id)" id="@item.Id" class="@(item.Liked? "Like":"no-like")" style="background-color: #ffe2eecc">
                                        @(item.Liked ? "Added to favourite": "Add to favourite")
                                    </a>
                                }

                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
        <div class="col-md-1"></div>
        <div class="col-md-6" style="background-color: lavenderblush">
            <label class="title-tag">Health</label>
            <div class="row">
                @if (!Model.HealthBooks.Any())
                {
                    <span style="margin-left:10px;padding:10px">There are no books</span>
                }
                @foreach (var item in Model.HealthBooks)
                {
                    <div class="col-md-4" style="padding:10px">
                        <div class="card shadow h-100">
                            <img src="~/Upload/Images/@item.ImageUrl" class="card-img-top img-fluid rounded" alt="...">
                            <div class="card-body text-center">
                                <h5 class="card-title  text-left text">@item.Title</h5>
                                <p class="card-text  text-left text">@item.Author</p>
                                @if (User.Identity.IsAuthenticated)
                                {
                                    <a onClick="Like(@item.Id)" id="@item.Id" class="@(item.Liked? "Like":"no-like")" style="background-color: #ffe2eecc">
                                        @(item.Liked ? "Added to favourite": "Add to favourite")
                                    </a>
                                }

                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
</div>

<script>
    function Like(bookId) {

        $.ajax({
            url: '/FavoriteBook/Like?bookId1=' + bookId,  //Server script to process data
            type: 'GET',
            contentType: "application/json;charset=utf-8",
            success: function (response) {

                if ($("#" + bookId)[0].classList.contains("Like")) {
                    $("#" + bookId).removeClass("Like");
                    $("#" + bookId).addClass("no-like");
                    $("#" + bookId).html("Add to favourite");
                } else {
                    $("#" + bookId).addClass("Like");
                    $("#" + bookId).removeClass("no-like");
                    $("#" + bookId).html("Added to favourite");
                }
            },
            //Options to tell jQuery not to process data or worry about content-type.
            cache: true,
            contentType: false,
            processData: false
        });
    }
</script>